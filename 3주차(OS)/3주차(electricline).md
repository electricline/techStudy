**기술면접 스터디(운영체제 통합)**



**메모리 관리 전략**



**메모리란 무엇인가?**



RAM(Random Access Memory)로 기억된 정보를 읽어내기도하고 다른 정보를 기억시킬 수도 있는 메모리, 컴퓨터의 주기억장치, 응용 프로그램의 일시적 로딩(loading), 데이터의 일시적 저장 등에 사용된다. 전기를 차단하면 안에 저장된 내용이 사라진다.



**메모리 단편화 란 무엇인가?**



램 메모리의 공간이 아주 작게 나누어져서 전체 사용가능한 메모리의 양은 충분하지만 할당이 불가능한 상태를 메모리 단편화가 발생했다고 말한다.



**내부단편화와 내부단편화란?**



프로세스가 사용하는 메모리의 양보다 더 많은 메모리가 할당 되어 메모리 공간이 낭비되는 상황을 말한다. 만약 어떤 한 프로그램을 위해 os가 10만큼 할당해줬을 때,

6만큼만 사용한다면 나머지 4의 크기만큼 내부 단편화가 발생했다고 볼 수 있다.



**메모리 단편화 해결방법은?**



내부단편화는 세그먼테이션으로, 외부단편화는 페이징으로 처리 가능하다. 이외에도 통합, 압축의 방법이 있다.



**운영 체제에서 페이징(Paging)은 무엇입니까? (운영 체제에서 페이징을 사용하는 것은 무엇입니까?)**



페이징은 프로세스에서 사용하는 메모리를 논리적인 단위로 동일하게 분할하여 이 동일하게 분할된 실제 메모리에 맵핑하는 방식이다.



**운영 체제에서 에이징(Aging)는 무엇입니까?**



자원이 할당되기를 오랜 시간 동안 기다린 프로세스에 대하여 기다린 시간에 비례하는 높은 우선순위를 부여하여 가까운 시간 안에 자원이 할당되도록 하는 기법이다.



**페이징의 장점과 단점은?**



페이징의 장점은 메모리를 동일한 크기로나누어 외부 단편화를 해소할 수 있다. 단점으로는 프로세스에 사용될 메모리의 크기가 크기의 배수가 정확하게 되지 않을 확률이 높으므로 내부 단편화가 발생한다.



**Demand Paging(요구 페이징)**



필요한 프로그램만 메모리에 적재하는 방법을 말하며 가상 메모리에 많이 사용된다. 요구 페이징을 사용하는 가상메모리에서는 페이지들이 실행 과정에서 실제로 필요해질 때 적재 된다.



**페이지 교체 알고리즘**



FIFO, 최적 페이지 교체, LRU 페이지 교체, LFU 페이지 교체



**페이지 교체 알고리즘 종류**



FIFO, 최적 페이지 교체, LRU 페이지 교체, LFU 페이지 교체



**페이지 교체는 무엇인가?**



요구 페이징 에서 언급된대로 프로그램 실행시에 모든 항목이 물리 메모리에 올라오지 않기 때문에, 프로세스의 동작에 필요한 페이지를 요청하는 과정에서 page fault(페이지 부재)가 발생하게 되면, 원하는 페이지를 보조저장장치에서 가져오게 된다. 하지만, 만약 물리 메모리가 모두 사용중인 상황이라면, 페이지 교체가 이뤄져야 한다.(또는, 운영체제가 프로세스를 강제 종료하는 방법이 있다.)



**페이지 교체 방법**



물리 메모리가 모두 사용중인 상황에서의 메모리 교체 흐름이다.

1. 디스크에서 필요한 페이지의 위치를 찾는다

2. 빈 페이지 프레임을 찾는다.

3. - 페이지 교체 알고리즘을 통해 희생될(victim) 페이지를 고른다.
   - 희생될 페이지를 디스크에 기록하고, 관련 페이지 테이블을 수정한다.

4. 새롭게 비워진 페이지 테이블 내 프레임에 새 페이지를 읽어오고, 프레임 테이블을 수정한다.

5. 사용자 프로세스 재시작



**페이지 부재 page fault는 무엇인가?**



프로세스의 모든 페이지를 물리 메모리에 넣지 않게 되는데, 이것을 페이지 폴트라 한다.



**메모리 단편화는 무엇인가?**



램 메모리의 공간이 아주 작게 나누어져서 전체 사용가능한 메모리의 양은 충분하지만 할당이 불가능한 상태를 메모리 단편화가 발생했다고 말한다.



**페이징은 어떤 용도로 사용?**



메모리를 효율적으로 사용하기 위해 사용한다. 프로세스의 내용 중 덜 중요한 것들은 하드 디스크의 공간에 올려놓고 필요할 때만 맵핑하여 사용하기 위해 사용한다.



또한, 페이징은 운영 체제의 외부 단편화 문제를 해결하기 위해 사용된다. 이 기술은 필요한 데이터를 가능한 한 빨리 사용할 수 있도록 보장한다.



**페이징에서 내부 단편화가 발생하는 이유는 뭔데?**



프로그램의 크기가 반드시 페이지 크기의 배수가 될 확률은 없기 때문이다.



**페이징을 하는 방법에 대해 설명해봐라**



프로세스가 할당받아야 될 메모리를 논리적 메모리 크기로 동일하게 나누고 실제 메모리 역시 물리적 주소 크기로 동일하게 자른다. 프로세스의 메모리를 논리적인 단위로 표현한 것을 페이지라고 하며, 물리 메모리를 동일한 크기로 나눈 것을 프레임이라 한다. 이러한 논리 메모리와 물리 메모리를 맵핑시켜 프로그램을 실행하는 방식을 페이징이라 한다.



**페이징에서 논리 메모리와 물리 메모리를 어떻게 맵핑 시키는지 말해봐라**



페이지 테이블이라는 것을 활용한다. 예를들어 논리적인 페이지 0번이 물리적인 페이지 프레임 어디에 올라가 있는 가를 저장해 놓는다.



**페이징을 위해 메인 메모리에 최소 몇번의 접근이 필요한지?**



2번



**메인 메모리에 최소 접근을 줄이기 위한 방법은 무엇이 있을까?**



캐시 메모리 사용



**세그먼테이션(Segmentation) 이란?**



페이징과는 다르게 논리 메모리와 물리 메모리를 같은 크기의 블록으로 자른 것이 아니다. 서로 다른 크기의 논리적 단위인 세그먼트로 자르는 방법이다. 단위를 세그먼트라 하는 것;



**세그멘테이션의 문제는?**



서로 다른 크기의 단위인 세그먼트로 나누기 때문에 내부 단편화의 문제점은 사라진다. 그러나 메모리가 계속 할당되고 해제되면서 발생하는 외부 단편화가 발생한다.



**메모리 할당 알고리즘을 설명하시오**



1) 최초 적합 (First-fit)

  : 메모리를 처음부터 검사하며 **가장 첫번째**로 사용가능한 공간에 할당해준다.

  장점 - 빠른 메모리 할당 가능

  단점 - 공간 활용률이 떨어짐

 

 

2) 최적 적합 (Best-fit)

  : 메모리 공간 중 프로세스가 들어갈 수 있는 **가장 작은 공간**에 할당해준다.

  장점 - 공간 활용률이 높아짐

  단점 - 사용 가능한 메모리가 크기 순으로 정렬되있지 않으면 메모리 검색 시간이 늘어난다.

 

 

3) 최악 적합 (Worst-fit / Next-fit)

  : 프로세스를 메모리 공간 중 **가장 큰 곳**에 할당해준다.

  장점 - 큰 메모리에 바로 할당하므로 검색이 빠르다.

  단점 - 사용 가능한 메모리의 정렬이 필요하고 공간 활용률이 떨어질 수 있다. 



**페이징 시스템에서 페이지 테이블이 어떤 기능을 하는지 설명하시오(페이징 테이블에는 어떤 방식으로 사용하고 있나?)**



논리 메모리의 주소를 물리 메모리에 맵핑하는 역할을 한다.



**가상 메모리**



**가상 메모리(Virtual Memory)란 무엇입니까?**



프로세스의 메모리 전체가 메인 메모리에 올라오지 않아도 프로그램의 실행이 가능하도록 하는 방법.



**가상 메모리는 왜 필요한가?**



프로그램이 실행 시에 반드시 프로그램 전체가 실행될 필요는 없으므로 현재 실행되는데 필요한 메모리만 실제 메모리에 올려서 사용하여 메모리를 효과적으로 사용하기 위해서이다.



**가상 메모리의 장점은?**



사용자 프로그램이 물리 메모리의 크기보다 커도 실행 가능하다.(메모리 크기로부터의 제약을 벗어남)

더 작은 메모리를 사용하므로 동시에 많은 프로그램의 실행이 가능하므로 응답시간이 늘어나지 않으면서 CPU 이용률과 처리율이 높아짐

프로그램을 메모리에 올렸다 내렸다하는 스왑의 입출력이 감소하여 더 빠른 프로그램 실행이 가능하다

가상 메모리 파일의 공유를 쉽게하여 공유 메모리 구현을 가능하게 한다.

프로세스의 생성을 효율적으로 처리할 수 있는 메커니즘 제공



**가상 메모리 단점?**



구현이 어렵고 잘못 구현시 성능 저하



**캐시**



**캐시란?**



Cache란 자주 사용하는 데이터나 값을 미리 복사해 놓는 임시 장소를 가리킨다



**캐시란 어떨 때 사용하면 좋을까?**



Cache는 아래와 같은 경우에 사용을 고려하면 좋다. 

접근 시간에 비히 원래 데이터를 접근하는 시간이 오래 걸리는 경우(서버의 균일한 API 데이터)
 반복적으로 동일한 결과를 돌려주는 경우(이미지나 썸네일 등)



**캐시의 지역성이란 무엇이고, 그 종류는 무엇이 있는지?**



캐시 히트를 올리기 위해 지역성의 원리를 사용한다.  지역성의 전제조건으로 프로그램은 모든 코드나 데이터를 균등하게 Access 하지 않는다는 특성을 기본으로 한다. 즉, Locality란 기억 장치 내의 정보를 균일하게 Access 하는 것이 아닌 어느 한 순간에 특정 부분을 집중적으로 참조하는 특성인 것이다.



- 시간 지역성 : 최근에 참조된 주소의 내용은 곧 다음에 다시 참조되는 특성. -> 반복문으로 최근 액세스된 기억장소가 다시 참조되는것 
- 공간 지역성 : 대부분의 실제 프로그램이 참조된 주소와 인접한 주소의 내용이 다시 참조되는 특성 -> 배열



**Caching line(캐시 라인)**



\- 캐시에 저장된 데이터를 빠르게 추출하기 위해 특정 자료구조를 사용해 묶음으로 저장하는 것

\- 캐시에 저장하고 있는 데이터는 데이터의 메모리 주소등을 기록하는 태그가 필요하며, 이러한 태그들의 묶음을 캐싱 라인이라고 함

 

1) full associative

2) set associative

3) direct map



**캐시 미스 종류에 대해 설명해주세요**



1) Compulsory Miss

최초 캐시 메모리가 초기화된 상태에서 발생하는 miss

 

2) Capacity Miss

전체적인 용량 부족으로 인한 miss

 

3) Conflict Miss

Direct map이나 Set Associative 방식에서 같은 부분을 번갈아 가면서 사용하게 되어 발생하는 miss





**ETC**



**모니터에 대해 설명 해 주시겠어요?**



동기화를 위해 사용되는 방법이다. 어떤 공유 데이터에 대해 모니터를 지정해놓으면, 프로세스는 그 데이터를 접근하기 위해 모니터에 들어가야만 한다. 즉, 모니터 내부에 들어간 프로세스에게만 공유 데이터를 접근할 수 있는 기능을 제공하는 것이다. 또한 프로세스가 모니터에 들어가고자 할 때 다른 프로세스가 모니터 내부에 있다면 입장 큐에서 기다려야 한다.



**프로세스 관련 용어를 설명해보세요.**



**SRAM과 DRAM의 차이는 무엇인가?**



**소켓이란 무엇입니까?**



프로세스간 통신하는데 사용



**커널이란 무엇입니까?**



운영체제의 가장 핵심적인 부분



**LRU에 대해서 설명해 보세요.**



페이지 교체 알고리증므로 Least Recently Used의 약자이다. 페이지에서 제거할 때, 가장 오랫동안 사용되지 않은 것을 제거하는 알고리즘이다. ( 가장 오랫동안 사용되지 않은 것은 앞으로도 사용되지 않을 것이다라는 생각)



**GPU와 CPU의 차이에 대해 설명하세요**



하나의 **CPU**는 직렬 처리에 최적화된 몇 개의 코어로 구성된 반면, **GPU**는 병렬 처리용으로 설계된 수 천 개의 보다 소형이고 효율적인 코어로 구성됨



**논리적 주소와 물리적 주소 차이를 설명하시오**



논리주소는 CPU가 생성한 가상 주소이고 물리적 주소는 실제 메모리 내의 위치다.



논리 주소는 참조와 같이 실제 주소에 액세스하는 데 사용됩니다. 논리적 주소 와 물리적 주소의 근본적인 차이점은 프로그램 실행 중에 CPU가 논리적 주소 를 생성하는 반면 물리적 주소 는 메모리 장치의 위치를 참조하는 것이다.



**스래싱이란 무어서인지 설명하시오.**



\- 메모리 영역에 접근하게 될 때, 메모리에 페이지 부재(=페이지 폴트(Page fault)율이 높은 것을 의미하며, 심각한 성능 저하를 초래한다.



**압축이란?**



램의 사용하지 않는 공간을 늘려 더 많은 프로그램들이 메모리 할당을 받을 수 있도록 하는 방법이다. 한쪽으로 메모리 공간을 재배치하여 여유 공간을 만든다.



**통합이란?**



단편화로 분산된 메모리 공간을 인접된 것들끼리만 통합시켜 큰 메모리 공간으로 만드는 방법이다. 압축은 재배치하지만 통합은 인접한 메모리끼리만 통합한다.



**문맥교환이 일어난다면 TLB를 어떻게 해야 하는지? 그리고 그 이유는?**



flush를 시켜서 모든 내용을 지운다. 프로세스마다 페이지 테이블은 따로 존재하기 때문이다.